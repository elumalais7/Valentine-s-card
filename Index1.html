<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Login</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif;}

body{
background:black;
color:white;
overflow:hidden;
}

/* LEFT HEART AREA */
#hearts{
position:fixed;
left:0;
top:0;
width:40%;
height:100%;
pointer-events:none;
overflow:hidden;
}

.heart{
position:absolute;
font-size:22px;
opacity:0;
animation:float 6s linear infinite;
}

@keyframes float{
0%{transform:translateY(100vh) scale(.5);opacity:0;}
20%{opacity:1;}
100%{transform:translateY(-10vh) scale(1.2);opacity:0;}
}

/* LOGIN BOX */
.login-box{
position:absolute;
right:0;
width:60%;
height:100vh;
display:flex;
align-items:center;
justify-content:center;
}

.form{
background:#111;
padding:40px;
border-radius:12px;
width:90%;
max-width:420px;
box-shadow:0 0 20px rgba(255,105,180,.4);
}

input,select{
width:100%;
padding:12px;
margin:10px 0;
border:none;
border-radius:6px;
outline:none;
}

button{
width:100%;
padding:12px;
margin-top:15px;
background:#ff4d88;
border:none;
color:white;
font-size:16px;
border-radius:6px;
cursor:pointer;
transition:.3s;
}

button:hover{background:#ff1a66}

/* ENVELOPE PAGE */
#envelopePage{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:black;
display:none;
align-items:center;
justify-content:center;
flex-direction:column;
}

.envelope{
width:260px;
height:160px;
background:#222;
position:relative;
cursor:pointer;
border-radius:6px;
box-shadow:0 0 15px pink;
display:flex;
align-items:center;
justify-content:center;
color:pink;
font-size:22px;
letter-spacing:3px;
}

.envelope::before{
content:"LOVE";
position:absolute;
top:15px;
left:20px;
color:#ff66a3;
font-weight:bold;
}

/* LETTER */
#letterPage{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:#ffd6e7;
display:none;
align-items:center;
justify-content:center;
flex-direction:column;
padding:15px;
}

.letter{
background:white;
padding:30px;
border-radius:10px;
max-width:600px;
width:90%;
color:#333;
box-shadow:0 10px 30px rgba(0,0,0,.3);
animation:pop .6s ease;
}

@keyframes pop{
0%{transform:scale(.5);opacity:0;}
100%{transform:scale(1);opacity:1;}
}

h2{
margin-bottom:10px;
text-align:center;
}

.typing{
white-space:pre-line;
min-height:150px;
line-height:1.6;
}

.download{
margin-top:20px;
background:#ff4d88;
}

/* Responsive */
@media(max-width:768px){
#hearts{width:35%;}
.login-box{width:65%;}
}
</style>
</head>

<body>

<!-- HEART AREA -->
<div id="hearts"></div>

<!-- LOGIN -->
<div class="login-box">
<div class="form">
<h2>Login</h2>
<input type="text" id="name" placeholder="Enter Name" required>

<select id="role">
<option value="">Who am I?</option>
<option>Friend</option>
<option>Classmate</option>
<option>Others</option>
<option>Crush/Lover</option>
</select>

<input type="text" id="otherBox" placeholder="Write here..." style="display:none">

<button onclick="login()">Login</button>
</div>
</div>

<!-- ENVELOPE -->
<div id="envelopePage">
<div class="envelope" onclick="openLetter()">ðŸ’Œ</div>
<p style="margin-top:10px;color:white;">click me</p>
</div>

<!-- LETTER -->
<div id="letterPage">
<h2 id="thankText"></h2>
<div class="letter">
<div class="typing" id="message"></div>
<button class="download" onclick="downloadLetter()">Download Letter</button>
</div>
</div>

<!-- MUSIC -->
<audio id="music" src="/mnt/data/universfield-serene-guitar-melody-30s-329228.mp3" loop></audio>

<script>
/* FLOATING HEARTS */
const heartContainer=document.getElementById("hearts");
setInterval(()=>{
const h=document.createElement("div");
h.className="heart";
h.innerHTML="ðŸ’•";
h.style.left=Math.random()*90+"%";
h.style.animationDuration=(4+Math.random()*3)+"s";
heartContainer.appendChild(h);
setTimeout(()=>h.remove(),6000);
},400);

/* SHOW OTHER INPUT */
role.onchange=()=>{
otherBox.style.display=(role.value==="Others")?"block":"none";
}

/* LOGIN */
function login(){
const name=document.getElementById("name").value.trim();
let who=role.value;

if(!name||!who){
alert("Fill all details!");
return;
}

if(who==="Others"){
who=document.getElementById("otherBox").value;
}

localStorage.setItem("valentineUser",JSON.stringify({name,who}));

/* heart shower */
for(let i=0;i<25;i++){
setTimeout(()=>createShower(),i*80);
}

setTimeout(()=>{
document.querySelector(".login-box").style.display="none";
document.getElementById("envelopePage").style.display="flex";
document.getElementById("music").play();
},1200);
}

function createShower(){
const h=document.createElement("div");
h.className="heart";
h.innerHTML="ðŸ’–";
h.style.left=Math.random()*80+"%";
h.style.animationDuration="3s";
heartContainer.appendChild(h);
setTimeout(()=>h.remove(),3000);
}

/* OPEN LETTER */
function openLetter(){
document.getElementById("envelopePage").style.display="none";
document.getElementById("letterPage").style.display="flex";

const user=JSON.parse(localStorage.getItem("valentineUser"));
document.getElementById("thankText").innerHTML=
"Thankyou for login<br>â™¡ "+user.name+" â™¡";

typeMessage(getMessage(user));
}

/* LETTER CONTENT */
function getMessage(user){
let msg="Dear "+user.name+",\n\n";

switch(user.who){
case "Friend":
msg+=`Happy Valentineâ€™s Day, my dear friend! ðŸ’–
You are one of the most beautiful parts of my life â€” not just today, but every day.
Thank you for the laughter, the support, and the countless memories we share.
Friendship like yours is rarer than roses and sweeter than chocolate.

~ Beloved,`;
break;

case "Classmate":
msg+=`Happy Valentineâ€™s Day to my amazing classmates! âœ¨ï¸
Not all love is romantic â€” some of the best love is found in friendships, shared notes, last-minute studies, and all the moments we grow together.
Grateful to learn, laugh, and make memories with all of you!ðŸ’

~ colleague,`;
break;

case "Crush/Lover":
msg+=`à®‰à®©à¯à®©à¯ˆ à®¨à®¾à®©à¯ à®•à®¾à®¤à®²à®¿à®¤à¯à®¤à®¤à¯ à®’à®°à¯ à®¨à®¾à®³à®¿à®²à¯ à®…à®²à¯à®²â€¦
à®’à®µà¯à®µà¯Šà®°à¯ à®ªà®¾à®°à¯à®µà¯ˆà®¯à®¿à®²à¯à®®à¯ à®®à¯†à®¤à¯à®µà®¾à®•.

à®šà¯Šà®²à¯à®²à®¾à®¤ à®•à®¾à®¤à®²à¯ à®¤à®¾à®©à¯ à®‡à®¤à¯â€¦
à®¨à®¾à®©à¯ à®®à¯à®´à¯à®µà®¤à¯à®®à¯ à®¨à¯€à®¯à®¾à®•à®¿ à®µà®¿à®Ÿà¯à®Ÿà¯‡à®©à¯.

ðŸ«¶ Will you be my valentine? ðŸ«¶

~ à®…à®©à¯à®ªà¯à®³à¯à®³ à®•à®¾à®¤à®²à®©à¯`;
break;

default:
msg+=`Happy Valentineâ€™s Day!
May your day be filled with love, laughter, and warmth.

~ by yours Lovely,
Elumalai S`;
}

return msg;
}

/* TYPING EFFECT */
function typeMessage(text){
let i=0;
const el=document.getElementById("message");
const timer=setInterval(()=>{
el.innerHTML+=text.charAt(i);
i++;
if(i>=text.length)clearInterval(timer);
},30);
}

/* DOWNLOAD */
function downloadLetter(){
const content=document.getElementById("message").innerText;
const blob=new Blob([content],{type:"text/plain"});
const a=document.createElement("a");
a.href=URL.createObjectURL(blob);
a.download="ValentineLetter.txt";
a.click();
}
</script>
</body>
</html>
